{"version":3,"sources":["..\\strawman\\LinkSupport.js","..\\strawman\\Title\\Title.js","..\\strawman\\AppRouter.js","..\\strawman\\Link\\Link.js","src\\CanvasBallsSample\\CanvasBallsSample.js","..\\strawman\\List\\List.js","..\\strawman\\SampleList\\SampleList.js","..\\strawman\\ScrollingSampleList.js","index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"generated.js","sourceRoot":"","sourcesContent":["/*\r\n * LinkSupport\r\n *\r\n * Add automatic on-tap support for controls with a href attribute\r\n */\r\n\r\nrequire('enyo');\r\n\r\nvar\r\n\tkind = require('enyo/kind');\r\n\r\nmodule.exports = {\r\n\tname: 'LinkSupport',\r\n\ttap: kind.inherit(function (sup) {\r\n\t\treturn function (sender, ev) {\r\n\t\t\tsup.apply(this, arguments);\r\n\t\t\tvar link = this.get('href') || ev.originator.get('href') || ev.originator.parent.get('href');\r\n\t\t\tif (link) {\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\twindow.location.href = link;\r\n\t\t\t}\r\n\t\t};\r\n\t})\r\n};\r\n","var\r\n\tkind = require('enyo/kind');\r\n\r\nmodule.exports = kind({\r\n\ttag: 'h1'\r\n});\r\n","/*\r\n * AppRouter\r\n *\r\n * Hash sample routing for Enyo Strawman samples.\r\n */\r\n\r\nrequire('enyo');\r\n\r\nvar\r\n\tkind = require('enyo/kind'),\r\n\tRouter = require('enyo/Router');\r\n\r\nmodule.exports = kind({\r\n\tkind: Router,\r\n\tuseHistory: true,\r\n\ttriggerOnStart: true,\r\n\troutes: [\r\n\t\t{path: ':sampleName/:locale', handler: 'handleRoute'},\r\n\t\t{path: ':sampleName', handler: 'handleRoute'},\r\n\t\t{path: '/:locale', handler: 'handleRouteLocaleOnly'}\r\n\t],\r\n\tevents: {\r\n\t\tonRouteChange: ''\r\n\t},\r\n\thandleRoute: function (sampleName, locale) {\r\n\t\tthis.doRouteChange({sampleName: sampleName, locale: locale || 'local'});\r\n\t},\r\n\thandleRouteLocaleOnly: function (locale) {\r\n\t\tthis.handleRoute(null, locale);\r\n\t}\r\n});\r\n\r\n","var\r\n\tkind = require('enyo/kind'),\r\n\tControl = require('enyo/Control');\r\n\r\nvar\r\n\tLinkSupport = require('../LinkSupport');\r\n\r\nmodule.exports = kind({\r\n\tname: 'Link',\r\n\tkind: Control,\r\n\ttag: 'span',\r\n\tclasses: 'link',\r\n\tspotlight: true,\r\n\tmixins: [LinkSupport],\r\n\tbadgeClassesChanged: function (was, is) {\r\n\t\tif (was) this.addRemoveClasses(was, false);\r\n\t\tif (is) this.addRemoveClasses(is, true);\r\n\t},\r\n\taddRemoveClasses: function (classes, state) {\r\n\t\tif (classes) {\r\n\t\t\tclasses = classes.split(/\\s+/);\r\n\t\t\tfor (var i = 0; i < classes.length; i++) {\r\n\t\t\t\tthis.addRemoveClass(classes[i], state);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","var\r\n\tanimation = require('enyo/animation'),\r\n\tkind = require('enyo/kind'),\r\n\tutils = require('enyo/utils'),\r\n\tInput = require('enyo/Input');\r\n\r\nvar\r\n\tCanvas = require('canvas/Canvas'),\r\n\tCanvasControl = require('canvas/Control'),\r\n\tCircle = require('canvas/Circle'),\r\n\tRectangle = require('canvas/Rectangle'),\r\n\tCanvasText = require('canvas/Text');\r\n\r\n\r\nmodule.exports = kind({\r\n\tname:'enyo.sample.CanvasBallsSample',\r\n\tstyle:'padding:15px;',\r\n\tcomponents: [\r\n\t\t{kind: Canvas, style: 'border: 1px solid black;', attributes: {width: 280, height: 300}, components: [\r\n\t\t\t// a container for the balls\r\n\t\t\t{name: 'ballpit', kind: CanvasControl},\r\n\t\t\t// a visible shelf to bounce off of\r\n\t\t\t{kind: Rectangle, bounds: {l: 0, t: 290, w: 300, h: 10}},\r\n\t\t\t// an FPS counter\r\n\t\t\t{name:'fpsCounter', kind: CanvasText, bounds: {l: 0, t: 15}, color: 'black'}\r\n\t\t]},\r\n\t\t{tag: 'br'},\r\n\t\t// Reset the balls / change the number\r\n\t\t{tag: 'button', content: 'Reset', ontap: 'reset'},\r\n\t\t{tag: 'br'},\r\n\t\t{tag: 'span', content:'Balls: '},\r\n\t\t{kind: Input, name: 'balls', value: '10', placeholder: 'Number of Balls'}\r\n\t],\r\n\tpublished: {\r\n\t\t// force of gravity\r\n\t\taccel: 9.8,\r\n\t\t// number of balls to show\r\n\t\tballs: 10\r\n\t},\r\n\tsetupBalls: function () {\r\n\t\t// pause loop to update the balls\r\n\t\tif (this.cancel) {\r\n\t\t\tanimation.cancelAnimationFrame(this.cancel);\r\n\t\t}\r\n\t\tthis.loopStart = Date.now();\r\n\t\tthis.frame = 0;\r\n\t\tthis.start = Date.now();\r\n\t\tthis.$.ballpit.destroyClientControls();\r\n\t\tvar colors = [ 'green', 'blue', 'black', 'brown', 'red', 'orange'];\r\n\t\tvar bounce, color, t, l;\r\n\t\tfor (var i = 0; i < this.balls; i++) {\r\n\t\t\t// bounce from 0.30 to 0.99\r\n\t\t\tbounce = (utils.irand(69) + 30) / 100;\r\n\t\t\tcolor = colors[utils.irand(colors.length)];\r\n\t\t\tt = utils.irand(375);\r\n\t\t\tl = 10 + (utils.irand(27) * 10);\r\n\t\t\tthis.$.ballpit.createComponent({\r\n\t\t\t\tkind: Circle,\r\n\t\t\t\tbounds: {l: l, t: t, w: 10},\r\n\t\t\t\tcolor: color,\r\n\t\t\t\tbounce: bounce,\r\n\t\t\t\tvel: 0,\r\n\t\t\t\towner: this\r\n\t\t\t});\r\n\t\t}\r\n\t\t// (re)start loop\r\n\t\tutils.asyncMethod(this.bindSafely('loop'));\r\n\t},\r\n\trendered: function () {\r\n\t\tthis.setupBalls();\r\n\t},\r\n\tdestroy: function () {\r\n\t\tif (this.cancel) {\r\n\t\t\tanimation.cancelAnimationFrame(this.cancel);\r\n\t\t}\r\n\t\tthis.inherited(arguments);\r\n\t},\r\n\tloop: function () {\r\n\t\tthis.frame++;\r\n\t\t// update ball positions\r\n\t\tfor (var i = 0, b; (b = this.$.ballpit.children[i]); i++) {\r\n\t\t\tif (b.bounds.t + b.bounds.w > this.$.rectangle.bounds.t) {\r\n\t\t\t\t// hits the ground, bounce back with X% of velocity\r\n\t\t\t\tb.vel = -b.vel * b.bounce;\r\n\t\t\t\tb.bounds.t = this.$.rectangle.bounds.t - b.bounds.w;\r\n\t\t\t} else if (b.bounds.t < b.bounds.w) {\r\n\t\t\t\t// prevent balls from shooting over the ceiling\r\n\t\t\t\tb.bounds.t = b.bounds.w;\r\n\t\t\t\tb.vel = 0;\r\n\t\t\t}\r\n\t\t\tb.vel += this.accel * (Date.now() - this.start);\r\n\t\t\t// make the distances rather large\r\n\t\t\tb.bounds.t += (b.vel / 10000);\r\n\t\t}\r\n\t\tthis.$.canvas.update();\r\n\t\tthis.start = Date.now();\r\n\t\tthis.cancel = animation.requestAnimationFrame(this.bindSafely('loop'));\r\n\t\t// draw the framerate\r\n\t\tthis.$.fpsCounter.setText(Math.floor(this.frame / ((Date.now() - this.loopStart) / 1000)));\r\n\t},\r\n\treset: function () {\r\n\t\tvar inode = this.$.balls.hasNode();\r\n\t\tvar newballs = inode ? parseInt(inode.value,0) : this.balls;\r\n\t\tif (isFinite(newballs) && newballs >= 0 && newballs != this.balls) {\r\n\t\t\t// update the number of balls\r\n\t\t\tthis.setBalls(newballs);\r\n\t\t} else {\r\n\t\t\t// reset the current balls without destroying / recreating them\r\n\t\t\tfor (var i = 0, b; (b = this.$.ballpit.children[i]); i++) {\r\n\t\t\t\tb.bounds.t = utils.irand(375);\r\n\t\t\t\tb.vel = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tballsChanged: function (oldBalls) {\r\n\t\tthis.setupBalls();\r\n\t}\r\n});\r\n","var\r\n\tkind = require('enyo/kind');\r\n\r\nvar\r\n\tCollection = require('enyo/Collection'),\r\n\tScroller = require('enyo/Scroller'),\r\n\tDataRepeater = require('enyo/DataRepeater');\r\n\r\nvar\r\n\tLink = require('../Link');\r\n\r\nmodule.exports = kind({\r\n\tkind: Scroller,\r\n\tclasses: 'strawman-list enyo-fit',\r\n\tsamples: null,\r\n\tlibraryName: '',\r\n\tlistType: 'list',\r\n\tcomponents: [\r\n\t\t{name: 'repeater', classes: 'list-frame', kind: DataRepeater, components: [\r\n\t\t\t{kind: Link, classes: 'item', bindings: [\r\n\t\t\t\t{from: 'model.name', to: 'href', transform: function (v) {\r\n\t\t\t\t\t\tvar href = \"#\" + v;\r\n\t\t\t\t\t\tif (!this.owner.libraryName) { href = v + '/index.html'; }\r\n\t\t\t\t\t\treturn href;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{from: 'model.name', to: 'content', transform: function (v) {\r\n\t\t\t\t\t\tvar name = v.replace(/Sample$/i, '');\r\n\t\t\t\t\t\tif (!this.owner.libraryName) {\r\n\t\t\t\t\t\t\tname = this.owner.samples[v] || name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn name;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{from: 'model.badgeClasses', to: 'badgeClasses'}\r\n\t\t\t]}\r\n\t\t]}\r\n\t],\r\n\tbindings: [\r\n\t\t{from: 'samples', to: '$.repeater.collection', transform: function (v) {\r\n\t\t\t\tif (!v) { return v; }\r\n\t\t\t\treturn (v instanceof Collection) ? v : new Collection(Object.keys(v).map(function (key) {\r\n\t\t\t\t\t// Make an object that contains all of the strings and booleans etc that we can use as a model for our sample collection.\r\n\t\t\t\t\tvar sampleModel = {name: key};\r\n\t\t\t\t\tfor (var prop in v[key]) {\r\n\t\t\t\t\t\t// Don't bother copying functions\r\n\t\t\t\t\t\tif (typeof v[key][prop] != 'function') {\r\n\t\t\t\t\t\t\tsampleModel[prop] = v[key][prop];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn sampleModel;\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\tcreate: function () {\r\n\t\tthis.inherited(arguments);\r\n\t\tthis.listTypeChanged();\r\n\t},\r\n\tlistTypeChanged: function (old) {\r\n\t\tthis.$.repeater.removeClass(old);\r\n\t\tthis.$.repeater.addClass(this.get('listType'));\r\n\t}\r\n});\r\n","var\r\n\tkind = require('enyo/kind'),\r\n\tplatform = require('enyo/platform');\r\n\r\nvar\r\n\tLink = require('../Link'),\r\n\tList = require('../List'),\r\n\tTitle = require('../Title'),\r\n\tAppRouter = require('../AppRouter');\r\n\r\nmodule.exports = kind({\r\n\ttitle: 'Samples',\r\n\tclasses: 'strawman',\r\n\tpublished: {\r\n\t\tsample: null,\r\n\t\tlocale: 'local'\r\n\t},\r\n\thandlers: {\r\n\t\tonRouteChange: 'handleRoute'\r\n\t},\r\n\tlistComponents: [\r\n\t\t{name: 'title', kind: Title},\r\n\t\t{name: 'back', kind: Link, classes: 'back-button', content: 'Back', href: '../index.html'},\r\n\t\t{name: 'list', kind: List}\r\n\t],\r\n\tcreate: function () {\r\n\t\tthis.inherited(arguments);\r\n\t\tthis.createComponent({name: 'router', kind: AppRouter});\r\n\t\tif (this.libraryName && this.version) {\r\n\t\t\t// only display version information for individual libraries that are versioned\r\n \t\t\tconsole.log('%c%s: %s', 'color:blue', this.libraryName, this.version);\r\n \t\t}\r\n \t},\r\n \thandleRoute: function (sender, ev) {\r\n\t\tthis.set('locale', ev.locale);\r\n\t\tthis.set('sample', ev.sampleName);\r\n\t},\r\n\tsampleChanged: function (was, is) {\r\n\t\tif (was) {\r\n\t\t\tif(this.$[was]) { this.$[was].destroy(); }\r\n\t\t} else {\r\n\t\t\tif(this.$.title) { this.$.title.destroy(); }\r\n\t\t\tif(this.$.back) { this.$.back.destroy(); }\r\n\t\t\tif(this.$.list) { this.$.list.destroy(); }\r\n\t\t}\r\n\t\tif (is && this.samples[is]) {\r\n\t\t\tif(platform.webos && global.screen.width<=400 && this.libraryName!=='Garnet') {\r\n\t\t\t\tthis.addClass('wearable-sample');\r\n\t\t\t}\r\n\t\t\tglobal.sample = this.createComponent({name:is, kind: this.samples[is], classes:'strawman-sample'});\r\n\t\t} else {\r\n\t\t\t// We have no sample, just render out the list.\r\n\t\t\tthis.removeClass('wearable-sample');\r\n\t\t\tthis.createComponents(this.listComponents);\r\n\t\t\tthis.binding({from: 'title',       to: '$.title.content'});\r\n\t\t\tthis.binding({from: 'samples',     to: '$.list.samples'});\r\n\t\t\tthis.binding({from: 'listType',    to: '$.list.listType'});\r\n\t\t\tthis.binding({from: 'libraryName', to: '$.list.libraryName'});\r\n\r\n\t\t\t// Don't show back if we're at home.\r\n\t\t\tthis.$.back.set('showing', !!this.libraryName);\r\n\t\t}\r\n\t\tthis.render();\r\n\t}\r\n});\r\n","var\r\n\tScroller = require('enyo/Scroller');\r\n\r\nvar\r\n\tSampleList = require('./SampleList');\r\n\r\nmodule.exports = SampleList.kind({\r\n\tcomponents: [\r\n\t\t{name: 'client', kind: Scroller, classes: 'enyo-fit'},\r\n\t\t{content: '<', classes: 'strawman-sample-back', ontap:'goBack'}\r\n\t],\r\n\tgoBack: function() {\r\n \t\tglobal.history.go(-1);\r\n \t\treturn false;\r\n  \t}\r\n});\r\n","require('enyo/options').accessibility = true;\r\n\r\nvar\r\n\tkind = require('enyo/kind'),\r\n\tready = require('enyo/ready');\r\n\r\nvar\r\n\tCanvas = require('canvas');\r\n\r\nvar\r\n\tScrollingSampleList = require('../strawman/ScrollingSampleList');\r\n\r\nvar\r\n\tsamples = {\r\n\t\tCanvasBallsSample: require('./src/CanvasBallsSample')\r\n\t\t// CanvasPrimitivesSample: require('./src/CanvasPrimitivesSample')\r\n\t};\r\n\r\nvar Sample = kind({\r\n\tkind: ScrollingSampleList,\r\n\ttitle: 'Canvas Samples',\r\n\tversion: Canvas.version,\r\n\tlibraryName: 'Canvas',\r\n\tsamples: samples\r\n});\r\n\r\nready(function() {\r\n\tnew Sample().renderInto(document.body);\r\n});\r\n\r\n"]}